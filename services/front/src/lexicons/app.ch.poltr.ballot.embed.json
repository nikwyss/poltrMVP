{
  "lexicon": 1,
  "id": "app.ch.poltr.ballot.embed",
  "defs": {
    "main": {
      "type": "object",
      "description": "Embed a Swiss ballot entry in a post or record",
      "properties": {
        "ballot": {
          "type": "ref",
          "ref": "#ballotView"
        }
      },
      "required": ["ballot"]
    },
    "ballotView": {
      "type": "object",
      "description": "View of an embedded ballot record",
      "properties": {
        "uri": {
          "type": "string",
          "format": "at-uri",
          "description": "AT URI of the ballot record"
        },
        "cid": {
          "type": "string",
          "format": "cid",
          "description": "CID of the ballot record"
        },
        "title": {
          "type": "string",
          "description": "Title of the ballot entry"
        },
        "topic": {
          "type": "string",
          "description": "Topic/category of the ballot entry"
        },
        "voteDate": {
          "type": "string",
          "format": "date",
          "description": "Date of the ballot vote"
        },
        "language": {
          "type": "string",
          "enum": ["de-CH", "fr-CH", "it-CH", "rm-CH"],
          "description": "Language of the ballot entry"
        }
      },
      "required": ["uri", "cid", "title", "voteDate"]
    }
  }
}
